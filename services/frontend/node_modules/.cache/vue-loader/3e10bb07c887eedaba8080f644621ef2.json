{"remainingRequest":"/home/agar/projects/provasi/services/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agar/projects/provasi/services/frontend/src/views/EditNote.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/agar/projects/provasi/services/frontend/src/views/EditNote.vue","mtime":1712073668234},{"path":"/home/agar/projects/provasi/services/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712078350439},{"path":"/home/agar/projects/provasi/services/frontend/node_modules/babel-loader/lib/index.js","mtime":1712078353207},{"path":"/home/agar/projects/provasi/services/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712078350439},{"path":"/home/agar/projects/provasi/services/frontend/node_modules/vue-loader/lib/index.js","mtime":1712078353439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0Tm90ZScsCiAgcHJvcHM6IFsnaWQnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBjb250ZW50OiAnJywKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuR2V0Tm90ZSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoeyBub3RlOiAnc3RhdGVOb3RlJyB9KSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyd1cGRhdGVOb3RlJywgJ3ZpZXdOb3RlJ10pLAogICAgYXN5bmMgc3VibWl0KCkgewogICAgdHJ5IHsKICAgICAgbGV0IG5vdGUgPSB7CiAgICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgICAgZm9ybTogdGhpcy5mb3JtLAogICAgICB9OwogICAgICBhd2FpdCB0aGlzLnVwZGF0ZU5vdGUobm90ZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnTm90ZScsIHBhcmFtczp7aWQ6IHRoaXMubm90ZS5pZH19KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0KICAgIH0sCiAgICBhc3luYyBHZXROb3RlKCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMudmlld05vdGUodGhpcy5pZCk7CiAgICAgICAgdGhpcy5mb3JtLnRpdGxlID0gdGhpcy5ub3RlLnRpdGxlOwogICAgICAgIHRoaXMuZm9ybS5jb250ZW50ID0gdGhpcy5ub3RlLmNvbnRlbnQ7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKICAgICAgfQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["EditNote.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditNote.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section>\n    <h1>Edit note</h1>\n    <hr/><br/>\n\n    <form @submit.prevent=\"submit\">\n      <div class=\"mb-3\">\n        <label for=\"title\" class=\"form-label\">Title:</label>\n        <input type=\"text\" name=\"title\" v-model=\"form.title\" class=\"form-control\" />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"content\" class=\"form-label\">Content:</label>\n        <textarea\n          name=\"content\"\n          v-model=\"form.content\"\n          class=\"form-control\"\n        ></textarea>\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n    </form>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'EditNote',\n  props: ['id'],\n  data() {\n    return {\n      form: {\n        title: '',\n        content: '',\n      },\n    };\n  },\n  created: function() {\n    this.GetNote();\n  },\n  computed: {\n    ...mapGetters({ note: 'stateNote' }),\n  },\n  methods: {\n    ...mapActions(['updateNote', 'viewNote']),\n    async submit() {\n    try {\n      let note = {\n        id: this.id,\n        form: this.form,\n      };\n      await this.updateNote(note);\n      this.$router.push({name: 'Note', params:{id: this.note.id}});\n    } catch (error) {\n      console.log(error);\n    }\n    },\n    async GetNote() {\n      try {\n        await this.viewNote(this.id);\n        this.form.title = this.note.title;\n        this.form.content = this.note.content;\n      } catch (error) {\n        console.error(error);\n        this.$router.push('/dashboard');\n      }\n    }\n  },\n};\n</script>\n"]}]}